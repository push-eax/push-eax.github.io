<!doctype html>
<html lang="en" itemscope itemtype="http://schema.org/Person">
<head>
  <meta charset="utf-8">
  <!-- Site Meta Data -->
  <title> kiernanro.ch  | Algorithm for finding string permutations</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="kroche">

  <link rel="shortcut icon" href="">

  <!-- schema.org -->
  <meta itemprop="name" content="kiernanro.ch">
  <meta itemprop="image" content="">
  <meta itemprop="description" content="">

  <link rel="stylesheet" href="/theme/css/style.css" type="text/css" />
  <!-- Feed Meta Data -->
    <link href="/" type="application/atom+xml" rel="alternate" title="kiernanro.ch RSS Feed" />

  <!-- Twitter Feed -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="">
  <meta name="twitter:image" content="">

</head>

<body>
    <div class="container">

    <!-- Navbar -->
      <div class="navbar">
        <h2>kiernanro.ch</h2>
        <ul class="static-item">
                <li><a href="/"><h4>home</h4></a></li>
                <li><a href="/archives.html"><h4>archives</h4></a></li>

                <li><a href="/pages/about.html"><h4>about</h4></a></li>
        </ul>        

        <span>
                    <a href="mailto:self@kiernanro.ch" target="_blank">
                        <img src="/theme/images/icons/mail.png">
                    </a>
                    <a href="https://www.linkedin.com/in/kiernan-roche" target="_blank">
                        <img src="/theme/images/icons/linkedin.png">
                    </a>
                    <a href="https://github.com/push-eax" target="_blank">
                        <img src="/theme/images/icons/github.png">
                    </a>
                    <a href="https://pgp.mit.edu/pks/lookup?op=get&search=0x221F2D628FE93562" target="_blank">
                        <img src="/theme/images/icons/pgp.png">
                    </a>
   
            <a href="/feed/rss" rel="alternate">
                <img src="/theme/images/icons/rss.png"></a>
        </span>
      </div>

    <maincontent>
<article>
<h2>Algorithm for finding string permutations</h2>

<div>
Sat 08 October 2016 by <a href="/author/kroche.html">kroche</a> in <a href="/category/algorithms.html" rel="bookmark" title="permalink to Algorithms">Algorithms</a>
    <hr>
</div>

<div>
    <mainarticle>
    <p>I'm a member of the Framingham State Computer Science club, which meets weekly. At the close of every meeting, we are posed two "interview questions" to answer. Usually, one of them is a logical puzzle, and the other is an algorithm problem.</p>
<p>This week, we were asked to find an algorithm which could determine whether a string <code>sB</code> is a permutation of a string <code>sA</code>, "permutation" being defined as a string of the same length containing the same characters, irrespective of the order in which they appear. For example, <code>"god"</code> is a permutation of <code>"dog"</code>, and so is <code>"dgo"</code>, but not <code>"nod"</code> since it contains <code>"n"</code>, which does not appear in <code>"dog"</code>. Character encoding is assumed to be ASCII.</p>
<p>The given solution was to form two arrays: array <code>aA</code> and array <code>aB</code>, each comprised of the characters of their respective strings, like so:</p>
<div class="highlight"><pre><span></span><span class="n">string</span> <span class="n">sA</span> <span class="o">=</span> <span class="s2">&quot;dog&quot;</span>
<span class="n">string</span> <span class="n">sB</span> <span class="o">=</span> <span class="s2">&quot;god&quot;</span>

<span class="n">array</span> <span class="n">aA</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">]</span>
<span class="n">array</span> <span class="n">aB</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">]</span>
</pre></div>


<p>Each character in <code>aA</code> is compared to each character in <code>aB</code>. If any mismatches are detected, the strings are determined not to be permutations:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">aA</span><span class="p">:</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">char</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">aB</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">false</span>
<span class="k">return</span> <span class="n">true</span>
</pre></div>


<p>I was struck by the inefficiency of this algorithm. Because it needs to compare each character in <code>aA</code> to each character in <code>aB</code>, it is O(n^2) complex, which I felt to be excessive for such a simple operation. I developed a more efficient algorithm that is O(n) complex which relies on the uniqueness of the values representing ASCII characters to produce a unique number which remains the same between permutations.</p>
<p>Originally, this ostensibly unique number was the sum of the decimal ASCII values of each character in sA:</p>
<div class="highlight"><pre><span></span><span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">sA</span><span class="p">:</span>
    <span class="nb">sum</span> <span class="o">+=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
</pre></div>


<p>For the string <code>"dog"</code>, this would be 100 + 111 + 103 = 314. This sum remains the same for any permutation thanks to the commutative property of addition (<code>"god"</code> = 103 + 111 + 100 = 314).</p>
<p>This algorithm is easily defeatable by subtracting an arbitrary number from any character in sA and adding it to any other character in sA. For example:</p>
<div class="highlight"><pre><span></span><span class="s2">&quot;dog&quot;</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">+</span> <span class="mi">111</span> <span class="o">+</span> <span class="mi">103</span> <span class="o">=</span> <span class="mi">314</span>
<span class="s2">&quot;god&quot;</span> <span class="o">=</span> <span class="mi">103</span> <span class="o">+</span> <span class="mi">111</span> <span class="o">+</span> <span class="mi">100</span> <span class="o">=</span> <span class="mi">314</span>
<span class="s2">&quot;hoc&quot;</span> <span class="o">=</span> <span class="mi">104</span> <span class="o">+</span> <span class="mi">111</span> <span class="o">+</span> <span class="mi">99</span> <span class="o">=</span> <span class="mi">314</span>
</pre></div>


<p><code>"hoc"</code> is not a permutation of <code>"dog"</code> because it contains letters <code>{"h", "c"}</code> which are not present in <code>"dog"</code>, yet the sum is the same.</p>
<p>I needed to find a mathematical operation that would retain the commutative property so as to produce the same result for permutations, but could not be algebraically fooled.</p>
<p>My solution is to sum the square of each value instead of summing the values themselves, as this retains the commutative property of addition but is not prone to collisions in the same way.</p>
<div class="highlight"><pre><span></span><span class="s2">&quot;dog&quot;</span> <span class="o">=</span> <span class="mi">100</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">111</span><span class="o">^</span><span class="mi">2</span> <span class="o">*</span> <span class="mi">103</span><span class="o">^</span><span class="mi">2</span> <span class="o">=</span> <span class="mi">32930</span>
<span class="s2">&quot;god&quot;</span> <span class="o">=</span> <span class="mi">103</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">111</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">100</span><span class="o">^</span><span class="mi">2</span> <span class="o">=</span> <span class="mi">32930</span>
<span class="s2">&quot;hoc&quot;</span> <span class="o">=</span> <span class="mi">104</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">111</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">99</span><span class="o">^</span><span class="mi">2</span> <span class="o">=</span> <span class="mi">32938</span>
</pre></div>


<p>Implementations of these algorithms can be found in <a href="https://github.com/push-eax/fsu-algorithms">this repo</a>.</p>
    </mainarticle>
</div>
<hr>
    Tags:
            <span>None</span>
</article>
    </maincontent>
  </div>
</body>

</html>